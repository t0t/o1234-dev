(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("question"),s=document.getElementById("ask-button");document.getElementById("response"),document.getElementById("loading");const r=document.getElementById("char-count"),t=280,e=()=>{const i=o.value.trim().length;return r.textContent=`${i}/${t}`,r.classList.toggle("hidden",i===0),s.disabled=i===0||i>t,o.classList.toggle("border-red-300",i>t),o.classList.toggle("focus:ring-red-500",i>t),o.classList.toggle("focus:border-red-500",i>t),i>0&&i<=t},n=async()=>{if(!e())return;const c=o.value.trim();o.disabled=!0,s.disabled=!0,s.classList.add("processing");try{await u(c)}finally{o.disabled=!1,s.disabled=!1,s.classList.remove("processing"),e(),o.focus()}};o.addEventListener("input",e),s.addEventListener("click",n),o.addEventListener("keypress",c=>{c.key==="Enter"&&e()&&(c.preventDefault(),n())}),s.innerHTML=`
        <span class="mr-2">Preguntar</span>
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z" clip-rule="evenodd" />
        </svg>
    `;const a=["¿Qué es O1234?","¿Qué significa el número 0?","¿Qué significa el número 1?","¿Para qué sirve O1234?"],d=document.createElement("div");d.id="quick-questions",d.className="mt-6 grid grid-cols-1 gap-3 sm:grid-cols-2",a.forEach(c=>{const i=document.createElement("button");i.className="inline-flex items-center px-4 py-2 border border-stone-600 shadow-sm text-sm font-medium rounded-md text-stone-300 bg-stone-800 hover:bg-stone-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-200 hover:shadow",i.textContent=c,i.onclick=()=>{o.value=c,e(),n()},d.appendChild(i)}),document.getElementById("quick-questions").appendChild(d),e()});const l=window.location.hostname==="localhost"?"http://localhost:8005":"https://o1234-dev.fly.dev";async function u(o){const s=document.getElementById("response"),r=document.getElementById("loading");try{r.classList.remove("hidden"),s.innerHTML="";const t=await fetch(`${l}/api/ask`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:o})});if(!t.ok)throw new Error("Error en la respuesta del servidor");const e=await t.json();r.classList.add("hidden");const n=m(e.response),a=document.createElement("div");a.className="mt-4 bg-gray-800 rounded-lg p-8 opacity-0 transition-opacity duration-300",a.innerHTML=n,s.appendChild(a),a.offsetHeight,a.classList.remove("opacity-0")}catch(t){r.classList.add("hidden");const e=document.createElement("div");e.className="mt-4 bg-red-50 text-red-700 rounded-lg p-4 opacity-0 transition-opacity duration-300",e.innerHTML=`
            <div class="flex items-center">
                <svg class="h-5 w-5 text-red-400 mr-2" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                </svg>
                <p>Error: ${t.message}</p>
            </div>
        `,s.appendChild(e),e.offsetHeight,e.classList.remove("opacity-0")}}function m(o){let s=o.split(`
`);s=s.map(e=>e.startsWith("Objetivos principales:")?`<h1>${e}</h1>`:e.match(/^\d+\.\s+\*\*[^*]+\*\*/)?`<h2>${e.replace(/^\d+\.\s+\*\*([^*]+)\*\*/,"$1")}</h2>`:(e=e.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),e.startsWith("- ")?`<li>${e.substring(2)}</li>`:e.match(/^\d+\./)?`<li>${e}</li>`:e.trim()?`<p>${e}</p>`:""));let r="",t=!1;return s.forEach(e=>{e.startsWith("<li>")&&!t?(r+="<ul>",t=!0):!e.startsWith("<li>")&&t&&(r+="</ul>",t=!1),r+=e}),t&&(r+="</ul>"),r}
//# sourceMappingURL=index-B_W2mw1d.js.map
